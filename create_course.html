<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Create Course</title>
    <script src="scripts/jquery.min.js" onload="window.$ = window.jQuery = module.exports;"></script>
  </head>
  <body>
    <a href="courses.html">Back to Courses</a>
    <h1>Create Courses</h1>

    <div>
      <p> Course Title: </p>
      <input id="name" type="text" placeholder="Intro to Comp Sci"></input> <br>
      <p> Course Identifier: </p>
      <input id="ident" type="text" placeholder="CS 1122"></input> <br>
    </div>

    <div>
      <button id="save">Save</button>
      <a href="courses.html"><button>Cancel</button></a>
    </div>

    <script>
      // You can also require other files to run in this process
      require('./renderer.js');

      var storage = require("./storage");
      $( document ).ready(function() {
        $("#save").click(function(){
          name = $("#name").val();
          ident = $("#ident").val();

          if(name != "" && ident != "") // validate
          {
            storage.readData("data.json", function(obj){
              storage.update(obj, name, name, ident, []);
              storage.saveData("data.json", obj, function(){
                window.location.href = 'courses.html';
              });
            });

          }
        });
      });

    </script>
  </body>
</html>
