<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Courses</title>
    <script src="scripts/jquery.min.js" onload="window.$ = window.jQuery = module.exports;"></script>
  </head>
  <body>
    <a href="index.html">Back to Index</a>
    <h1>Courses</h1>

    <div>
    Course List
    <ul id="class_list">
    <ul>
    </div>

    <div>
      <a href="create_course.html"><button>Create </button></a>
    </div>

    <script>
      // You can also require other files to run in this process
      require('./renderer.js');

      var storage = require("./storage");
      $( document ).ready(function() {
        // insert list of courses
        storage.readData("data.json", function(obj) {
          list = $("#class_list");
          class_list = obj.class_list;
          for(key in class_list)
          {
            c = class_list[key];
            item = $('<li><strong>' + c.name + '</strong>  ' + c.ident + '</li>');
            //console.log("key: " + key + " ident: " + c.ident);
            item.data('ident', c.ident);
            item.click(function(){
              require('electron').remote.getGlobal('params').name = $(this).data('ident');
              window.location.href = 'edit_course.html';
            });
            list.append(item);

          }

        });
      });
    </script>
  </body>
</html>
